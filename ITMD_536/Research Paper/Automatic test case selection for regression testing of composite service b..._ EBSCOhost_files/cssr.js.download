(function(a){a("head").append('<meta name="viewport" content="width=device-width, initial-scale=1"/>');a("#SearchNavigationMenubar .nav-item").each(function(){var l=a(this).find("a").attr("href")||"";if(l.toLowerCase().indexOf("thecontenttype=mesh")!==-1&&a(window).width()<=830){a(this).remove();}});var k=function(m,p,q,n){var o=[];var l=m.children("."+p);l.each(function(v,x){r=a(x).children("."+q).clone();if(!r.length){r=a(x).find("."+q).first().clone();}var w=r.hasClass("selected");var r=r.removeClass().addClass(n);if(w){r.addClass("selected");}var u=a(x).children(".submenu");if(!u.length){o.push(a('<li class="'+p+'" tabindex="-1" role="menuitem" />').append(r));}else{var s=a('<li class="'+p+' submenu-trigger" tabindex="-1" role="menuitem" />').append(r);var t=a('<ul class="vert-nav-submenu submenu" />').append(k(u,"subnav-item","submenu-link","vert-nav-submenu-link"));s.append(t);o.push(s);}});return o.reduce(a.merge,a());};var i=a('<div class="vert-nav" />');var h,g,f;h=a('<ul role="menubar" />').append(k(a(".toolbar-navigation"),"nav-item","link","vert-nav-link link"));i.append(h);$newToolbarTools=a('<ul role="menubar" />').append(k(a(".toolbar-tools"),"nav-item","link","vert-nav-link link"));i.append($newToolbarTools);f=a('<ul role="menubar" />');$personalizationItems=a(".change-user").children().each(function(){if(a(this).is("a")){var m=a(this).clone().removeClass().addClass("vert-nav-link");f.append(a('<li tabindex="-1" role="menuitem" >').append(m));}else{var l=a(this).clone().removeClass().addClass("vert-nav-label");f.append(a("<li >").append(l));}});i.append(f);i.find(".nav-item:first-child").attr("tabindex",0);i.find(".subnav-item").removeClass("subnav-item").addClass("vert-subnav-item");i.find(".nav-item").removeClass("nav-item").addClass("vert-nav-item");i.find(".submenu").removeClass("submenu").addClass("vert-submenu");i.find(".submenu-trigger").removeClass("submenu-trigger").addClass("vert-submenu-trigger");var e=a('<div class="flyout-toolbar"><div class="flyout-close"></div></div>');var d=a('<nav class="flyout-panel bg-s1" role="navigation" />').append(e).append(i);var c=a('<div class="flyout-component hidden" />').append('<div class="flyout-overlay" />').append(d);a("body").append(c);a(".toolbar").append('<a class="flyout-trigger color-s1" href="#" aria-haspopup="true" aria-expanded="false">&#9776;</a>');var b;a(".flyout-trigger").on("click",function(){b=a(this);a(this).attr("aria-expanded","true");a(".flyout-component").removeClass("hidden");a(".flyout-panel .nav-item").first().focus();a("html").addClass("no-scroll");});a(".flyout-overlay, .flyout-component a[data-dialog], .flyout-close").on("click",function(){a(".flyout-trigger").attr("aria-expanded","false");a(".flyout-component").addClass("hidden");a("html").removeClass("no-scroll");});a(".flyout-component a[data-dialog]").on("click",function(){a("html").addClass("no-scroll");setTimeout(function(){a(".ui-dialog-titlebar-close").on("click",function(){a("html").removeClass("no-scroll");});});});var j=27;a(".flyout-panel").keyup(function(m){var l=a(this);if(m.which===j){b.focus().attr("aria-expanded","false");a(".flyout-component").addClass("hidden");a("html").removeClass("no-scroll");}});if(a(window).width()<=830){if(a("body").hasClass("column1-open")){a("body").removeClass("column1-open").addClass("column1-closed");}if(a("body").hasClass("column2-open")){a("body").removeClass("column2-open").addClass("column2-closed");}}a("#sortOptionsWrapper.dd-menu-items, #pageOptionsWrapper.dd-menu-items, #alertSaveShareWrapper.dd-menu-items").prepend('<div class="dd-toolbar"><div class="dd-close"></div></div>');a(".dd-close").on("click",function(){var l=a(this).parents(".dd-menu-items");l.trigger("toggleVisibility");});a("#column2.collapsible a[data-panel]").click(function(m){if(a(window).width()>830){return;}var l=a(m.target).parents(".collapsible").get(0);if(l){ep.controller.CollapsibleController.toggle(l);}});})(jQuery);(function(a){a(function(){var g={left:37,up:38,right:39,down:40,tab:9,enter:13};var n=function(p,q){q.addClass("active");if(f(p)){q.addClass("active-left");}};var f=function(p){if(p.length>0){return(p.offset().left<0);}};var o=function(p){p.removeClass("active-left").removeClass("active");};var e=a(".vert-subnav-item"),c=a(".vert-nav-item"),d=a(".vert-submenu-trigger"),b=d.find(".vert-subnav-item > .vert-submenu");var k=function(r){var q=a(this),p=r?q.parent().closest(".vert-submenu-trigger")[r]():q.parent().closest(".vert-submenu-trigger");if(p.length){p.focus();}};var h=function(w,p,v){var r=a(this),s=p.index(r),t=p.length-1,u=s+v;if(u<0){p.last().focus();}else{if(u>t){p.first().focus();}else{var q=p.eq(u);q.focus();}}};var l=function(q,p){h.call(this,q,p,-1);};var i=function(q,p){h.call(this,q,p,1);};var j=function(){var q=a(this),p=q.children(".vert-submenu").children(".vert-subnav-item").not("[data-selected]").first();p.focus();};c.keypress(function(p){if(p.which===g.enter){p.stopPropagation();p.preventDefault();}}).keydown(function(s){var q=a(this),r=q.index();switch(s.which){case g.tab:if(s.shiftKey){if(r!==0){s.preventDefault();l.call(this,s,q.parent().children());}}else{if(r!==q.parent().children().length-1){s.preventDefault();i.call(this,s,q.parent().children());}}break;case g.up:s.preventDefault();break;case g.down:s.preventDefault();break;case g.enter:s.stopPropagation();s.preventDefault();if(!q.hasClass("vert-submenu-trigger")){var p=q.find(".link").first();if(p.attr("data-dialog")){p.click();}else{if(p.attr("target")==="_blank"){window.open(p.attr("href"));}else{window.location=p.attr("href");}}}break;}}).keyup(function(q){var p=a(this);switch(q.which){case g.enter:n(p.find(".vert-submenu").first(),p);j.call(this);break;case g.down:n(p.find(".vert-submenu").first(),p);j.call(this);break;case g.right:o(p);i.call(this,q,p.parent().children());break;case g.left:o(p);l.call(this,q,p.parent().children());break;}}).focus(function(){a(this).addClass("highlight");}).blur(function(){a(this).removeClass("highlight");});var m=function(s){var r=a(this),p=r.closest(".vert-nav-item");o(p);var q=p[s]();if(!q.length){if(s==="prev"){q=p.parent().children().last();}else{if(s==="next"){q=p.parent().children().first();}}}if(q.hasClass("vert-submenu-trigger")){n(q.find(".vert-submenu").first(),q);j.call(q[0]);}else{q.focus();}};e.keydown(function(p){if(p.which===g.enter){p.stopPropagation();p.preventDefault();}else{if(p.which===g.tab){o(a(this).parents(".vert-submenu-trigger"));}}}).keyup(function(r){var q=a(this);r.preventDefault();r.stopPropagation();switch(r.which){case g.left:var p=q.parent().closest(".vert-submenu-trigger");o(q.parent().closest(".vert-submenu-trigger"));if(p.hasClass("vert-nav-item")){m.call(this,"prev");}else{k.call(this);}break;case g.right:if(!q.hasClass("vert-submenu-trigger")){o(q.parents(".vert-submenu-trigger"));m.call(this,"next");}break;case g.up:l.call(this,r,q.closest(".vert-submenu").children().not("[data-selected]"));break;case g.down:i.call(this,r,q.closest(".vert-submenu").children().not("[data-selected]"));break;case g.enter:if(!q.hasClass("vert-submenu-trigger")){window.location=q.find(".vert-submenu-link").first().attr("href");}break;}}).focus(function(){a(this).addClass("highlight");}).blur(function(){a(this).removeClass("highlight");});e.filter(".vert-submenu-trigger").keyup(function(r){var q=a(this);if(r.which===g.right||r.which===g.enter){var p=q.find(".vert-submenu").first();n(p,q);p.children().first().focus();}});d.click(function(q){var p=a(this);if(p.hasClass("active")){o(p);return;}n(p.children(".vert-submenu"),p);q.stopPropagation();});a(document).on("click",function(p){o(a(".vert-submenu-trigger"));});});})(jQuery);